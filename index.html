
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Student Registration Wizard</title>
 <!-- Latest compiled and minified CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.min.css">


</head>
<body>
 <div class="container mt-5">
    <div class="row justify-content-center">
      <div class="col-md-8">
        <div class="card">
          <div class="card-body">
            <h2 class="text-center mb-5" style="text-transform: uppercase;">Nile Heights College</h2>
            <form id="regForm" action="https://n8n.srv939400.hstgr.cloud/webhook-test/81fd61c1-a5cb-4a57-954b-0608ff93dc82" method="POST">
              <!-- Step 1 -->
              <div class="tab">
                <h3>Step 1: Personal Details</h3>
                <div class="form-group mb-3">
                  <label for="firstName" class="form-label">First Name</label>
                  <input type="text" class="form-control" id="firstName" name="firstName" required>
                </div>
                <div class="form-group mb-3">
                  <label for="secondName" class="form-label">Second Name</label>
                  <input type="text" class="form-control" id="secondName" name="secondName" required>
                </div>
                <div class="form-group mb-3">
                  <label for="age" class="form-label">Age</label>
                  <input type="number" class="form-control" id="age" name="age" required>
                </div>
                <div class="form-group mb-3">
                  <label for="email" class="form-label">Email</label>
                  <input type="email" class="form-control" id="email" name="email" required>
                </div>
                <div class="form-group mb-3">
                  <label for="telephone" class="form-label">Telephone</label>
                  <input type="text" class="form-control" id="telephone" name="telephone" required>
                </div>
                <div class="form-group mb-3">
                  <label for="dateOfBirth" class="form-label">Date of Birth</label>
                  <input type="text" class="form-control" id="dateOfBirth" name="dateOfBirth" required>
                </div>
                <div class="form-group mb-3">
                  <label for="dateOfRegistration" class="form-label">Date of Registration</label>
                  <input type="text" class="form-control" id="dateOfRegistration" name="dateOfRegistration" required>
                </div>
                <div class="form-group mb-3">
                  <label for="gender" class="form-label">Gender</label>
                  <select class="form-select" id="gender" name="gender" required>
                    <option value="">Select Gender</option>
                    <option value="Male">Male</option>
                    <option value="Female">Female</option>
                    <option value="Other">Other</option>
                  </select>
                </div>
              </div>

              <!-- Step 2 -->
              <div class="tab" style="display: none;">
                <h3>Step 2: Contact Information</h3>
                <div class="form-group mb-3">
                  <label for="country" class="form-label">Country</label>
                  <select class="form-select" id="country" name="country" required>
                    <option value="">Select Country</option>
                    <option value="Uganda">Uganda</option>
                    <option value="Kenya">Kenya</option>
                    <option value="Tanzania">Tanzania</option>
                  </select>
                </div>
                <div class="form-group mb-3">
                  <label for="city" class="form-label">City</label>
                  <select class="form-select" id="city" name="city" required>
                    <option value="">Select City</option>
                  </select>
                </div>
                <div class="form-group mb-3">
                  <label for="permanentAddress" class="form-label">Permanent Address</label>
                  <textarea class="form-control" id="permanentAddress" name="permanentAddress" required></textarea>
                </div>
              </div>

              <!-- Step 3 -->
              <div class="tab" style="display: none;">
                <h3>Step 3: Course selection</h3>
                <div class="form-group mb-3">
                  <label for="firstChoice" class="form-label">First Choice</label>
                  <div>
                    <select class="form-select" id="firstChoice" name="firstChoice" required>
                        <option value="">Select Course</option>
                      <option value="BEng Mechanical Engineering">BEng Mechanical Engineering</option>
                      <option value="BEng Electrical Engineering">BEng Electrical Engineering</option>
                      <option value="BBA Business Administration">BBA Business Administration</option>
                      <option value="BSc Computer Science">BSc Computer Science</option>
                      <option value="BSc Information Technology">BSc Information Technology</option>
                      <option value="BSc Nursing">BSc Nursing</option>
                    </select>
                    
                  </div>
                </div>
                <div class="form-group mb-3">
                  <label for="secondChoice" class="form-label">Second Choice</label>
                  <div>
                    <select class="form-select" id="secondChoice" name="secondChoice" required>
                      <option value="">Select Course</option>
                      <option value="BEng Mechanical Engineering">BEng Mechanical Engineering</option>
                      <option value="BEng Electrical Engineering">BEng Electrical Engineering</option>
                      <option value="BBA Business Administration">BBA Business Administration</option>
                      <option value="BSc Computer Science">BSc Computer Science</option>
                      <option value="BSc Information Technology">BSc Information Technology</option>
                      <option value="BSc Nursing">BSc Nursing</option>
                    </select>
                  </div>
                </div>
                <div class="form-group mb-3">
                  <label for="thirdChoice" class="form-label">Third Choice</label>
                  <div>
                    <select class="form-select" id="thirdChoice" name="thirdChoice" required>
                      <option value="">Select Course</option>
                      <option value="BEng Mechanical Engineering">BEng Mechanical Engineering</option>
                      <option value="BEng Electrical Engineering">BEng Electrical Engineering</option>
                      <option value="BBA Business Administration">BBA Business Administration</option>
                      <option value="BSc Computer Science">BSc Computer Science</option>
                      <option value="BSc Information Technology">BSc Information Technology</option>
                      <option value="BSc Nursing">BSc Nursing</option>
                    </select>
                  </div>
                </div>
              </div>

              <div class="d-flex justify-content-between">
                <button type="button" class="btn btn-secondary" id="prevBtn" style="display: none;">Previous</button>
                <button type="button" class="btn btn-primary" id="nextBtn">Next</button>
                <button type="submit" class="btn btn-success" id="submitBtn" style="display: none;">Submit</button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
  <!-- Latest compiled JavaScript -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script> 
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js"></script>

<script>
  $(document).ready(function () {
    $('#dateOfBirth').datepicker({
      format: 'yyyy-mm-dd',
      autoclose: true
    });
    $('#dateOfRegistration').datepicker({
      format: 'yyyy-mm-dd',
      autoclose: true
    });
  });

  let currentTab = 0;
  let courses = [
      { category: "Engineering", name: "BEng Mechanical Engineering" },
      { category: "Engineering", name: "BEng Electrical Engineering" },
      { category: "Business", name: "BBA Business Administration" },
      { category: "Computing", name: "BSc Computer Science" },
      { category: "Computing", name: "BSc Information Technology" },
      { category: "Health Sciences", name: "BSc Nursing" },
      { category: "Arts", name: "BA Journalism and Mass Communication" },
      { category: "Arts", name: "BArch Architecture" }
    ];

    let countries = {
      "Uganda": ["Kampala", "Entebbe", "Jinja"],
      "Kenya": ["Nairobi", "Mombasa", "Kisumu"],
      "Tanzania": ["Dar es Salaam", "Dodoma", "Arusha"]
    };

    document.addEventListener("DOMContentLoaded", function () {
      showTab(currentTab);
      populateCourseOptions();
      document.getElementById("dateOfRegistration").value = new Date().toISOString().slice(0, 10);
    });

    document.getElementById("country").addEventListener("change", function () {
      let country = this.value;
      let citySelect = document.getElementById("city");
      citySelect.innerHTML = "<option value=''>Select City</option>";

      if (country in countries) {
        countries[country].forEach(city => {
          let option = document.createElement("option");
          option.value = city;
          option.text = city;
          citySelect.appendChild(option);
        });
      }
    });

    function showTab(n) {
      let tabs = document.getElementsByClassName("tab");
      tabs[n].style.display = "block";

      let prevBtn = document.getElementById("prevBtn");
      let nextBtn = document.getElementById("nextBtn");
      let submitBtn = document.getElementById("submitBtn");

      if (n == 0) {
        prevBtn.style.display = "none";
      } else {
        prevBtn.style.display = "inline-block";
      }

      if (n == tabs.length - 1) {
        nextBtn.style.display = "none";
        submitBtn.style.display = "inline-block";
      } else {
        nextBtn.style.display = "inline-block";
        submitBtn.style.display = "none";
      }
    }

    function nextPrev(n) {
      let tabs = document.getElementsByClassName("tab");

      if (n == 1 && !validateForm()) return;

      tabs[currentTab].style.display = "none";
      currentTab = currentTab + n;

      if (currentTab >= tabs.length) {
        document.getElementById("regForm").submit();
        return false;
      }

      showTab(currentTab);
    }

    function validateForm() {
      let valid = true;
      let inputs = document.getElementsByClassName("tab")[currentTab].getElementsByTagName("input");
      let selects = document.getElementsByClassName("tab")[currentTab].getElementsByTagName("select");
      let textareas = document.getElementsByClassName("tab")[currentTab].getElementsByTagName("textarea");

      for (let i = 0; i < inputs.length; i++) {
        if (inputs[i].value.trim() == "") {
          inputs[i].style.borderBottom = "2px solid #dc3545";
          valid = false;
        } else {
          inputs[i].style.borderBottom = "";
        }
      }

      for (let i = 0; i < selects.length; i++) {
        if (selects[i].value == "") {
          selects[i].style.borderBottom = "2px solid #dc3545";
          valid = false;
        } else {
          selects[i].style.borderBottom = "";
        }
      }

      for (let i = 0; i < textareas.length; i++) {
        if (textareas[i].value.trim() == "") {
          textareas[i].style.borderBottom = "2px solid #dc3545";
          valid = false;
        } else {
          textareas[i].style.borderBottom = "";
        }
      }

      return valid;
    }

    function populateCourseOptions() {
      let courseSelects = document.querySelectorAll("select[name^='course']");
      courses.forEach(course => {
        courseSelects.forEach(select => {
          let option = document.createElement("option");
          option.value = course.name;
          option.text = course.name;
          select.appendChild(option);
        });
      });
    }


    document.getElementById("prevBtn").addEventListener("click", function () {
      nextPrev(-1);
    });

    document.getElementById("nextBtn").addEventListener("click", function () {
      nextPrev(1);
    });
  </script>
</body>
</html>
